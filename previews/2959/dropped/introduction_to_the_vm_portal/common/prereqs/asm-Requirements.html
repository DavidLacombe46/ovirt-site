<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Requirements | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Requirements" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/2959/dropped/introduction_to_the_vm_portal/common/prereqs/asm-Requirements.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/2959/dropped/introduction_to_the_vm_portal/common/prereqs/asm-Requirements.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Requirements" />
<meta name="twitter:site" content="@ovirt" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"Requirements","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/2959/images/logo.svg"}},"url":"https://ovirt.github.io/ovirt-site/previews/2959/dropped/introduction_to_the_vm_portal/common/prereqs/asm-Requirements.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/2959/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/2959/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/2959/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/2959/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/2959/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/2959/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2959/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2959/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2959/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2959/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2959/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/2959/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/2959/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/2959/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/2959/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/2959/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/2959/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/2959/images/logo.svg">      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/2959/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2959/documentation/'>Documentation</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2959/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2959/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2959//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2959//blogs.ovirt.org/'>Blog</a></li>              </ul>          </div>          <!-- /.navbar-collapse -->      </div>      <!-- /.container-fluid -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2959/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2959/dropped/">
              <span property="name">Dropped</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2959/dropped/introduction_to_the_vm_portal/">
              <span property="name">Introduction to the VM Portal</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2959/dropped/introduction_to_the_vm_portal/common/">
              <span property="name">Common</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2959/dropped/introduction_to_the_vm_portal/common/prereqs/">
              <span property="name">Prereqs</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
        
        <section id="content" class="content container">
          
<div class="sect1">
<h2 id="RHV-manager-requirements">{virt-product-fullname} {engine-name} Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="hardware-requirements_{context}">Hardware Requirements</h3>
<div class="paragraph">
<p>The minimum and recommended hardware requirements outlined here are based on a typical small to medium-sized installation. The exact requirements vary between deployments based on sizing and load.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. {virt-product-fullname} {engine-name} Hardware Requirements</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Minimum</th>
<th class="tableblock halign-left valign-top">Recommended</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A dual core x86_64 CPU.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A quad core x86_64 CPU or multiple dual core x86_64 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 GB of available system RAM if Data Warehouse is not installed and if memory is not being consumed by existing processes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 GB of system RAM.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hard Disk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 GB of locally accessible, writable disk space.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50 GB of locally accessible, writable disk space.</p>
<p class="tableblock">You can use the <a href="https://access.redhat.com/labs/rhevmhdsc/">RHV {engine-name} History Database Size Calculator</a> to calculate the appropriate disk space for the {engine-name} history database size.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Network Interface Card (NIC) with bandwidth of at least 1 Gbps.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Network Interface Card (NIC) with bandwidth of at least 1 Gbps.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="browser-requirements_{context}">Browser Requirements</h3>
<div class="paragraph">
<p>The following browser versions and operating systems can be used to access the Administration Portal and the VM Portal.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Browser Requirements</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Support Tier</th>
<th class="tableblock halign-left valign-top">Operating System Family</th>
<th class="tableblock halign-left valign-top">Browser</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tier 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{enterprise-linux}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mozilla Firefox Extended Support Release (ESR) version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Most recent version of Google Chrome, Mozilla Firefox, or Microsoft Edge</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tier 2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tier 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Earlier versions of Google Chrome or Mozilla Firefox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other browsers</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="client-requirements_{context}">Client Requirements</h3>
<div class="paragraph">
<p>Virtual machine consoles can only be accessed using supported Remote Viewer (<code>virt-viewer</code>) clients on {enterprise-linux} and Windows. To install <code>virt-viewer</code>, see <a href="{URL_virt_product_docs}{URL_format}virtual_machine_management_guide/index#sect-installing_supporting_components">Installing Supporting Components on Client Machines</a> in the <em>Virtual Machine Management Guide</em>. Installing <code>virt-viewer</code> requires Administrator privileges.</p>
</div>
<div class="paragraph">
<p>You can access virtual machine consoles using the SPICE, VNC, or RDP (Windows only) protocols. You can install the QXLDOD graphical driver in the guest operating system to improve the functionality of SPICE. SPICE currently supports a maximum resolution of 2560x1600 pixels.</p>
</div>
<div class="paragraph">
<div class="title">Client Operating System SPICE Support</div>
<p>Supported QXLDOD drivers are available on {enterprise-linux} 7.2 and later, and Windows 10.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SPICE may work with Windows 8 or 8.1 using QXLDOD drivers, but it is neither certified nor tested.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="operating-system-requirements_{context}">Operating System Requirements</h3>
<div class="paragraph">
<p>The {virt-product-fullname} {engine-name} must be installed on a base installation of {enterprise-linux} 8 that has been updated to the latest minor release.</p>
</div>
<div class="paragraph">
<p>Do not install any additional packages after the base installation, as they may cause dependency issues when attempting to install the packages required by the {engine-name}.</p>
</div>
<div class="paragraph">
<p>Do not enable additional repositories other than those required for the {engine-name} installation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="host-requirements">Host Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="CPU_Requirements_{context}">CPU Requirements</h3>
<div class="paragraph">
<p>All CPUs must have support for the Intel® 64 or AMD64 CPU extensions, and the AMD-V™ or Intel VT® hardware virtualization extensions enabled. Support for the No eXecute flag (NX) is also required.</p>
</div>
<div class="paragraph">
<p>The following CPU models are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AMD</p>
<div class="ulist">
<ul>
<li>
<p>Opteron G4</p>
</li>
<li>
<p>Opteron G5</p>
</li>
<li>
<p>EPYC</p>
</li>
</ul>
</div>
</li>
<li>
<p>Intel</p>
<div class="ulist">
<ul>
<li>
<p>Nehalem</p>
</li>
<li>
<p>Westmere</p>
</li>
<li>
<p>SandyBridge</p>
</li>
<li>
<p>IvyBridge</p>
</li>
<li>
<p>Haswell</p>
</li>
<li>
<p>Broadwell</p>
</li>
<li>
<p>Skylake Client</p>
</li>
<li>
<p>Skylake Server</p>
</li>
<li>
<p>Cascadelake Server</p>
</li>
</ul>
</div>
</li>
<li>
<p>IBM</p>
<div class="ulist">
<ul>
<li>
<p>POWER8</p>
</li>
<li>
<p>POWER9</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each CPU model with security updates, the <strong>CPU Type</strong> lists a basic type and a secure type. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Intel Cascadelake Server Family</strong></p>
</li>
<li>
<p><strong>Secure Intel Cascadelake Server Family</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Secure CPU type contains the latest updates. For details, see BZ#<a href="https://bugzilla.redhat.com/1731395">1731395</a></p>
</div>
<div class="sect3">
<h4 id="Checking_Processor_Flag_Support_{context}">Checking if a Processor Supports the Required Flags</h4>
<div class="paragraph">
<p>You must enable virtualization in the BIOS. Power off and reboot the host after this change to ensure that the change is applied.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>At the {enterprise-linux} or {hypervisor-fullname} boot screen, press any key and select the <strong>Boot</strong> or <strong>Boot with serial console</strong> entry from the list.</p>
</li>
<li>
<p>Press <code>Tab</code> to edit the kernel parameters for the selected option.</p>
</li>
<li>
<p>Ensure there is a space after the last kernel parameter listed, and append the parameter <code>rescue</code>.</p>
</li>
<li>
<p>Press <code>Enter</code> to boot into rescue mode.</p>
</li>
<li>
<p>At the prompt, determine that your processor has the required extensions and that they are enabled by running this command:</p>
<div class="listingblock">
<div class="content">
<pre># grep -E 'svm|vmx' /proc/cpuinfo | grep nx</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If any output is shown, the processor is hardware virtualization capable. If no output is shown, your processor may still support hardware virtualization; in some circumstances manufacturers disable the virtualization extensions in the BIOS. If you believe this to be the case, consult the system&#8217;s BIOS and the motherboard manual provided by the manufacturer.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Memory_Requirements_{context}">Memory Requirements</h3>
<div class="paragraph">
<p>The minimum required RAM is 2 GB. For cluster levels 4.2 to 4.5, the maximum supported RAM per VM in {hypervisor-fullname} is 6 TB. For cluster levels 4.6 to 4.7, the maximum supported RAM per VM in {hypervisor-fullname} is 16 TB.</p>
</div>
<div class="paragraph">
<p>However, the amount of RAM required varies depending on guest operating system requirements, guest application requirements, and guest memory activity and usage. KVM can also overcommit physical RAM for virtualized guests, allowing you to provision guests with RAM requirements greater than what is physically present, on the assumption that the guests are not all working concurrently at peak load. KVM does this by only allocating RAM for guests as required and shifting underutilized guests into swap.</p>
</div>
</div>
<div class="sect2">
<h3 id="Storage_Requirements_{context}">Storage Requirements</h3>
<div class="paragraph">
<p>Hosts require storage to store configuration, logs, kernel dumps, and for use as swap space. Storage can be local or network-based. {hypervisor-fullname} ({hypervisor-shortname}) can boot with one, some, or all of its default allocations  in network storage. Booting from network storage can result in a freeze if there is a network disconnect. Adding a drop-in multipath configuration file can help address losses in network connectivity. If {hypervisor-shortname} boots from SAN storage and loses connectivity, the files become read-only until network connectivity restores. Using network storage might result in a performance downgrade.</p>
</div>
<div class="paragraph">
<p>The minimum storage requirements of {hypervisor-shortname} are documented in this section. The storage requirements for {enterprise-linux-host-fullname}s vary based on the amount of disk space used by their existing configuration but are expected to be greater than those of {hypervisor-shortname}.</p>
</div>
<div class="paragraph">
<p>The minimum storage requirements for host installation are listed below. However, use the default allocations, which use more storage space.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/ (root) - 6 GB</p>
</li>
<li>
<p>/home - 1 GB</p>
</li>
<li>
<p>/tmp - 1 GB</p>
</li>
<li>
<p>/boot - 1 GB</p>
</li>
<li>
<p>/var - 5 GB</p>
</li>
<li>
<p>/var/crash - 10 GB</p>
</li>
<li>
<p>/var/log - 8 GB</p>
</li>
<li>
<p>/var/log/audit - 2 GB</p>
</li>
<li>
<p>/var/tmp - 10 GB</p>
</li>
<li>
<p>swap - 1 GB (for the recommended swap size, see <a href="https://access.redhat.com/solutions/15244" class="bare">https://access.redhat.com/solutions/15244</a>)</p>
</li>
<li>
<p>Anaconda reserves 20% of the thin pool size within the volume group for future metadata expansion. This is to prevent an out-of-the-box configuration from running out of space under normal usage conditions. Overprovisioning of thin pools during installation is also not supported.</p>
</li>
<li>
<p><strong>Minimum Total - 64 GiB</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are also installing the {engine-appliance-name} for self-hosted engine installation, <code>/var/tmp</code> must be at least 10 GB.</p>
</div>
<div class="paragraph">
<p>If you plan to use memory overcommitment, add enough swap space to provide virtual memory for all of virtual machines. See <a href="{URL_virt_product_docs}{URL_format}administration_guide/index#Memory_Optimization">Memory Optimization</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="PCI_Device_Requirements_{context}">PCI Device Requirements</h3>
<div class="paragraph">
<p>Hosts must have at least one network interface with a minimum bandwidth of 1 Gbps. Each host should have two network interfaces, with one dedicated to supporting network-intensive activities, such as virtual machine migration. The performance of such operations is limited by the bandwidth available.</p>
</div>
<div class="paragraph">
<p>For information about how to use PCI Express and conventional PCI devices with Intel Q35-based virtual machines, see <a href="https://access.redhat.com/articles/3201152"><em>Using PCI Express and Conventional PCI Devices with the Q35 Virtual Machine</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Device_Assignment_Requirements_{context}">Device Assignment Requirements</h3>
<div class="paragraph">
<p>If you plan to implement device assignment and PCI passthrough so that a virtual machine can use a specific PCIe device from a host, ensure the following requirements are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CPU must support IOMMU (for example, VT-d or AMD-Vi). IBM POWER8 supports IOMMU by default.</p>
</li>
<li>
<p>Firmware must support IOMMU.</p>
</li>
<li>
<p>CPU root ports used must support ACS or ACS-equivalent capability.</p>
</li>
<li>
<p>PCIe devices must support ACS or ACS-equivalent capability.</p>
</li>
<li>
<p>All PCIe switches and bridges between the PCIe device and the root port should support ACS. For example, if a switch does not support ACS, all devices behind that switch share the same IOMMU group, and can only be assigned to the same virtual machine.</p>
</li>
<li>
<p>For GPU support, {enterprise-linux} 8 supports PCI device assignment of PCIe-based NVIDIA K-Series Quadro (model 2000 series or higher), GRID, and Tesla as non-VGA graphics devices. Currently up to two GPUs may be attached to a virtual machine in addition to one of the standard, emulated VGA interfaces. The emulated VGA is used for pre-boot and installation and the NVIDIA GPU takes over when the NVIDIA graphics drivers are loaded. Note that the NVIDIA Quadro 2000 is not supported, nor is the Quadro K420 card.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Check vendor specification and datasheets to confirm that your hardware meets these requirements. The <code>lspci -v</code> command can be used to print information for PCI devices already installed on a system.</p>
</div>
</div>
<div class="sect2">
<h3 id="vGPU_Requirements_{context}">vGPU Requirements</h3>
<div class="paragraph">
<p>A host must meet the following requirements in order for virtual machines on that host to use a vGPU:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>vGPU-compatible GPU</p>
</li>
<li>
<p>GPU-enabled host kernel</p>
</li>
<li>
<p>Installed GPU with correct drivers</p>
</li>
<li>
<p>Select a vGPU type and the number of instances that you would like to use with this virtual machine using the <strong>Manage vGPU</strong> dialog in the <strong>Administration Portal</strong> <strong>Host Devices</strong> tab of the virtual machine.</p>
</li>
<li>
<p>vGPU-capable drivers installed on each host in the cluster</p>
</li>
<li>
<p>vGPU-supported virtual machine operating system with vGPU drivers installed</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="networking-requirements">Networking requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="general-requirements">General requirements</h3>
<div class="paragraph">
<p>{virt-product-fullname} requires IPv6 to remain enabled on the physical or virtual machine running the {engine-name}. <a href="https://access.redhat.com/solutions/8709">Do not disable IPv6</a> on the {engine-name} machine, even if your systems do not use it.</p>
</div>
</div>
<div class="sect2">
<h3 id="dns-requirements_{context}">Firewall Requirements for DNS, NTP, and IPMI Fencing</h3>
<div class="paragraph">
<p>The firewall requirements for all of the following topics are special cases that require individual consideration.</p>
</div>
<div class="paragraph">
<div class="title">DNS and NTP</div>
<p>{virt-product-fullname} does not create a DNS or NTP server, so the firewall does not need to have open ports for incoming traffic.</p>
</div>
<div class="paragraph">
<p>By default, {enterprise-linux} allows outbound traffic to DNS and NTP on any destination address. If you disable outgoing traffic, define exceptions for requests that are sent to DNS and NTP servers.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The {virt-product-fullname} {engine-name} and all hosts ({hypervisor-fullname} and {enterprise-linux-host-fullname}) must have a fully qualified domain name and full, perfectly-aligned forward and reverse name resolution.</p>
</li>
<li>
<p>Running a DNS service as a virtual machine in the {virt-product-fullname} environment is not supported. All DNS services the {virt-product-fullname} environment uses must be hosted outside of the environment.</p>
</li>
<li>
<p>Use DNS instead of the <code>/etc/hosts</code> file for name resolution. Using a hosts file typically requires more work and has a greater chance for errors.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">IPMI and Other Fencing Mechanisms (optional)</div>
<p>For IPMI (Intelligent Platform Management Interface) and other fencing mechanisms, the firewall does not need to have open ports for incoming traffic.</p>
</div>
<div class="paragraph">
<p>By default, {enterprise-linux} allows outbound IPMI traffic to ports on any destination address. If you disable outgoing traffic, make exceptions for requests being sent to your IPMI or fencing servers.</p>
</div>
<div class="paragraph">
<p>Each {hypervisor-fullname} and {enterprise-linux-host-fullname} in the cluster must be able to connect to the fencing devices of all other hosts in the cluster. If the cluster hosts are experiencing an error (network error, storage error&#8230;&#8203;) and cannot function as hosts, they must be able to connect to other hosts in the data center.</p>
</div>
<div class="paragraph">
<p>The specific port number depends on the type of the fence agent you are using and how it is configured.</p>
</div>
<div class="paragraph">
<p>The firewall requirement tables in the following sections do not represent this option.</p>
</div>
</div>
<div class="sect2">
<h3 id="RHV-manager-firewall-requirements_{context}">{virt-product-fullname} {engine-name} Firewall Requirements</h3>
<div class="paragraph">
<p>The {virt-product-fullname} {engine-name} requires that a number of ports be opened to allow network traffic through the system&#8217;s firewall.</p>
</div>
<div class="paragraph">
<p>The <code>engine-setup</code> script can configure the firewall automatically.</p>
</div>
<div class="paragraph">
<p>The firewall configuration documented here assumes a default configuration.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. {virt-product-fullname} {engine-name} Firewall Requirements</caption>
<colgroup>
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 16%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Port(s)</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Destination</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Encrypted by default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICMP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional.</p>
<p class="tableblock">May help in diagnosis.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System(s) used for maintenance of the {engine-name} including backend configuration, and software upgrades.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Shell (SSH) access.</p>
<p class="tableblock">Optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2222</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clients accessing virtual machine serial consoles.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Shell (SSH) access to enable connection to virtual machine serial consoles.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">80, 443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administration Portal clients</p>
<p class="tableblock">VM Portal clients</p>
<p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p>
<p class="tableblock">REST API clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides HTTP (port 80, not encrypted) and HTTPS (port 443, encrypted) access to the {engine-name}. HTTP redirects connections to HTTPS.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administration Portal clients</p>
<p class="tableblock">VM Portal clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides websocket proxy access for a web-based console client, <code>noVNC</code>, when the websocket proxy is running on the {engine-name}.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7410</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Kdump is enabled on the hosts, open this port for the fence_kdump listener on the {engine-name}. See <a href="{URL_virt_product_docs}{URL_format}administration_guide/index#sect-fence_kdump_Advanced_Configuration">fence_kdump Advanced Configuration</a>. <code>fence_kdump</code> doesn&#8217;t provide a way to encrypt the connection. However, you can manually configure this port to block access from hosts that are not eligible.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">54323</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administration Portal clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name} (<code>ovirt-imageio</code> service)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for communication with the <code>ovirt-imageo</code> service.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6442</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Virtual Network (OVN) southbound database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connect to Open Virtual Network (OVN) database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9696</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clients of external network provider for OVN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External network provider for OVN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenStack Networking API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, with configuration generated by engine-setup.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">35357</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clients of external network provider for OVN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External network provider for OVN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenStack Identity API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, with configuration generated by engine-setup.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP, UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS lookup requests from ports above 1023 to port 53, and responses. Open by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NTP Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NTP requests from ports above 1023 to port 123, and responses.  Open by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>A port for the OVN northbound database (6641) is not listed because, in the default configuration, the only client for the OVN northbound database (6641) is <code>ovirt-provider-ovn</code>. Because they both run on the same host, their communication is not visible to the network.</p>
</li>
<li>
<p>By default, {enterprise-linux} allows outbound traffic to DNS and NTP on any destination address. If you disable outgoing traffic, make exceptions for the {engine-name} to send requests to DNS and NTP servers. Other nodes may also require DNS and NTP. In that case, consult the requirements for those nodes and configure the firewall accordingly.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="host-firewall-requirements_{context}">Host Firewall Requirements</h3>
<div class="paragraph">
<p>{enterprise-linux-host-fullname}s and {hypervisor-fullname}s ({hypervisor-shortname}) require a number of ports to be opened to allow network traffic through the system&#8217;s firewall. The firewall rules are automatically configured by default when adding a new host to the {engine-name}, overwriting any pre-existing firewall configuration.</p>
</div>
<div class="paragraph">
<p>To disable automatic firewall configuration when adding a new host, clear the <strong>Automatically configure host firewall</strong> check box under <strong>Advanced Parameters</strong>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Virtualization Host Firewall Requirements</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Port(s)</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Destination</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Encrypted by default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Shell (SSH) access.</p>
<p class="tableblock">Optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2223</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Shell (SSH) access to enable connection to virtual machine serial consoles.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">161</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple network management protocol (SNMP). Only required if you want Simple Network Management Protocol traps sent from the host to one or more external SNMP managers.</p>
<p class="tableblock">Optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFS storage server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFS connections.</p>
<p class="tableblock">Optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5900 - 6923</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administration Portal clients</p>
<p class="tableblock">VM Portal clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote guest console access via VNC and SPICE. These ports must be open to facilitate client access to virtual machines.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes (optional)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5989</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP, UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Common Information Model Object Manager (CIMOM)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used by Common Information Model Object Managers (CIMOM) to monitor virtual machines running on the host. Only required if you want to use a CIMOM to monitor the virtual machines in your virtualization environment.</p>
<p class="tableblock">Optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9090</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p>
<p class="tableblock">Client machines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required to access the Cockpit web interface, if installed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16514</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual machine migration using <strong>libvirt</strong>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">49152 - 49215</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual machine migration and fencing using VDSM. These ports must be open to facilitate both automated and manual migration of virtual machines.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. Depending on agent for fencing, migration is done through libvirt.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">54321</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p>
<p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VDSM communications with the {engine-name} and other virtualization hosts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">54322</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name} <code>ovirt-imageio</code> service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for communication with the <code>ovirt-imageo</code> service.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6081</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required, when Open Virtual Network (OVN) is used as a network provider, to allow OVN to create tunnels between hosts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP, UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS lookup requests from ports above 1023 to port 53, and responses. This port is required and open by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p>
<p class="tableblock">{enterprise-linux-host-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NTP Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NTP requests from ports above 1023 to port 123, and responses. This port is required and open by default.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4500</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP, UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internet Security Protocol (IPSec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internet Security Protocol (IPSec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AH, ESP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{hypervisor-fullname}s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internet Security Protocol (IPSec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, {enterprise-linux} allows outbound traffic to DNS and NTP on any destination address. If you disable outgoing traffic, make exceptions for the {hypervisor-fullname}s</p>
</div>
<div class="paragraph">
<p>{enterprise-linux-host-fullname}s to send requests to DNS and NTP servers. Other nodes may also require DNS and NTP. In that case, consult the requirements for those nodes and configure the firewall accordingly.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="database-server-firewall-requirements_{context}">Database Server Firewall Requirements</h3>
<div class="paragraph">
<p>{virt-product-fullname} supports the use of a remote database server for the {engine-name} database (<code>engine</code>) and the Data Warehouse database (<code>ovirt-engine-history</code>). If you plan to use a remote database server, it must allow connections from the {engine-name} and the Data Warehouse service (which can be separate from the {engine-name}).</p>
</div>
<div class="paragraph">
<p>Similarly, if you plan to access a local or remote Data Warehouse database from an external system, the database must allow connections from that system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Accessing the {engine-name} database from external systems is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Database Server Firewall Requirements</caption>
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 20.8333%;">
<col style="width: 20.8333%;">
<col style="width: 20.8333%;">
<col style="width: 12.5002%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Port(s)</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Destination</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Encrypted by default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP, UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{virt-product-fullname} {engine-name}</p>
<p class="tableblock">Data Warehouse service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{engine-name} (<code>engine</code>) database server</p>
<p class="tableblock">Data Warehouse (<code>ovirt-engine-history</code>) database server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default port for PostgreSQL database connections.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="{URL_virt_product_docs}{URL_format}installing_{URL_product_virt}_as_a_self-hosted_engine_using_the_command_line/index#Migrating_the_Data_Warehouse_Database_to_a_Separate_Machine_migrate_DWH">No, but can be enabled</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP, UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External systems</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Warehouse (<code>ovirt-engine-history</code>) database server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default port for PostgreSQL database connections.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled by default. <a href="{URL_virt_product_docs}{URL_format}installing_{URL_product_virt}_as_a_self-hosted_engine_using_the_command_line/index#Migrating_the_Data_Warehouse_Database_to_a_Separate_Machine_migrate_DWH">No, but can be enabled</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="MTU_Requirements_{context}">Maximum Transmission Unit Requirements</h3>
<div class="paragraph">
<p>The recommended Maximum Transmission Units (MTU) setting for Hosts during deployment is 1500. It is possible to update this setting after the environment is set up to a different MTU. For more information on changing the MTU setting, see <a href="https://access.redhat.com/solutions/4129641">How to change the Hosted Engine VM network MTU</a>.</p>
</div>
</div>
</div>
</div>



        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/2959/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/2959/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/2959/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/2959/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/dropped/introduction_to_the_vm_portal/common/prereqs/asm-Requirements.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/master/source/dropped/introduction_to_the_vm_portal/common/prereqs/asm-Requirements.adoc' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
