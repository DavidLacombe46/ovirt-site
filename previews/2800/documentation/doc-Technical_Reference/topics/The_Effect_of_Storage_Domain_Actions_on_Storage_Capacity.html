<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>The Effect of Storage Domain Actions on Storage Capacity | oVirt</title>
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="The Effect of Storage Domain Actions on Storage Capacity" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/2800/documentation/doc-Technical_Reference/topics/The_Effect_of_Storage_Domain_Actions_on_Storage_Capacity.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/2800/documentation/doc-Technical_Reference/topics/The_Effect_of_Storage_Domain_Actions_on_Storage_Capacity.html" />
<meta property="og:site_name" content="oVirt" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="The Effect of Storage Domain Actions on Storage Capacity" />
<meta name="twitter:site" content="@ovirt" />
<script type="application/ld+json">
{"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/2800/images/logo.svg"}},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","@type":"WebPage","headline":"The Effect of Storage Domain Actions on Storage Capacity","url":"https://ovirt.github.io/ovirt-site/previews/2800/documentation/doc-Technical_Reference/topics/The_Effect_of_Storage_Domain_Actions_on_Storage_Capacity.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/2800/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/2800/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/2800/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/2800/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/2800/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/2800/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2800/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2800/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2800/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2800/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2800/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <!-- Begin Jekyll Favicon tag v0.2.9 -->
<!-- Classic -->
<link rel="shortcut icon" href="/ovirt-site/previews/2800/favicon.ico">
<link rel="icon" sizes="48x48 32x32 16x16" href="/ovirt-site/previews/2800/favicon.ico">
  <link rel="icon" sizes="16x16" type="image/png" href="/ovirt-site/previews/2800/images/favicon-16x16.png">
  <link rel="icon" sizes="32x32" type="image/png" href="/ovirt-site/previews/2800/images/favicon-32x32.png">
  <link rel="icon" sizes="64x64" type="image/png" href="/ovirt-site/previews/2800/images/favicon-64x64.png">
  <link rel="icon" sizes="144x144" type="image/png" href="/ovirt-site/previews/2800/images/favicon-144x144.png">
<!-- Safari -->
  <link rel="apple-touch-icon" sizes="57x57" href="/ovirt-site/previews/2800/images/favicon-57x57.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/ovirt-site/previews/2800/images/favicon-76x76.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/ovirt-site/previews/2800/images/favicon-120x120.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/ovirt-site/previews/2800/images/favicon-152x152.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/ovirt-site/previews/2800/images/favicon-167x167.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/ovirt-site/previews/2800/images/favicon-180x180.png">
<!-- Chrome -->
  <link rel="icon" sizes="192x192" href="/ovirt-site/previews/2800/images/favicon-192x192.png">
  <link rel="icon" sizes="96x96" href="/ovirt-site/previews/2800/images/favicon-96x96.png">
  <link rel="icon" sizes="48x48" href="/ovirt-site/previews/2800/images/favicon-48x48.png">
<link rel="manifest" href="/ovirt-site/previews/2800/manifest.webmanifest">
<!-- IE -->
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ovirt-site/previews/2800/images/favicon-144x144.png">
<meta name='msapplication-config' content="/ovirt-site/previews/2800/browserconfig.xml">
<!-- End Jekyll Favicon tag -->
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/2800/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/2800/images/logo.svg">      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/2800/download/'>Download</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/2800/documentation/'>Documentation</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2800/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2800/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2800//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2800//blogs.ovirt.org/'>Blog</a></li>              </ul>          </div>          <!-- /.navbar-collapse -->      </div>      <!-- /.container-fluid -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2800/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2800/documentation/">
              <span property="name">Documentation</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2800/documentation/doc-Technical_Reference/">
              <span property="name">Technical Reference</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2800/documentation/doc-Technical_Reference/topics/">
              <span property="name">Topics</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
        
        <section id="content" class="content container">
          
<div class="dlist">
<dl>
<dt class="hdlist1">Power on, power off, and reboot a stateless virtual machine</dt>
<dd>
<p>These three processes affect the copy-on-write (COW) layer in a stateless virtual machine. For more information, see the <strong>Stateless</strong> row of the <a href="{URL_virt_product_docs}{URL_format}virtual_machine_management_guide/index#Virtual_Machine_General_settings_explained">Virtual Machine General Settings table</a> in the <em>Virtual Machine Management Guide</em>.</p>
</dd>
<dt class="hdlist1">Create a storage domain</dt>
<dd>
<p>Creating a block storage domain results in files with the same names as the seven LVs shown below, and initially should take less capacity.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="Bash">ids              64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-ao---- 128.00m
inbox            64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-a----- 128.00m
leases           64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-a-----   2.00g
master           64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-ao----   1.00g
metadata         64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-a----- 512.00m
outbox           64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-a----- 128.00m
xleases          64f87b0f-88d6-49e9-b797-60d36c9df497 -wi-a-----   1.00g</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Delete a storage domain</dt>
<dd>
<p>Deleting a storage domain frees up capacity on the disk by the same of amount of capacity the process deleted.</p>
</dd>
<dt class="hdlist1">Migrate a storage domain</dt>
<dd>
<p>Migrating a storage domain does not use additional storage capacity. For more information about migrating storage domains, see <a href="{URL_virt_product_docs}{URL_format}administration_guide/index#Migrating_SD_between_DC_Same_Env">Migrating Storage Domains Between Data Centers in the Same Environment</a> in the <em>Administration Guide</em>.</p>
</dd>
<dt class="hdlist1">Move a virtual disk to other storage domain</dt>
<dd>
<p>Migrating a virtual disk requires enough free space to be available on the target storage domain. You can see the target domain&#8217;s approximate free space in the Administration Portal.</p>
<div class="paragraph">
<p>The storage types in the move process affect the visible capacity. For example, if you move a preallocated disk from block storage to file storage, the resulting free space may be considerably smaller than the initial free space.</p>
</div>
<div class="paragraph">
<p>Live migrating a virtual disk to another storage domain also creates a snapshot, which is automatically merged after the migration is complete. To learn more about moving virtual disks, see <a href="{URL_virt_product_docs}{URL_format}administration_guide/index#Moving_a_Virtual_Disk">Moving a Virtual Disk</a> in the <em>Administration Guide</em>.</p>
</div>
</dd>
<dt class="hdlist1">Pause a storage domain</dt>
<dd>
<p>Pausing a storage domain does not use any additional storage capacity.</p>
</dd>
<dt class="hdlist1">Create a snapshot of a virtual machine</dt>
<dd>
<p>Creating a snapshot of a virtual machine can affect the storage domain capacity.</p>
<div class="ulist">
<ul>
<li>
<p>Creating a live snapshot uses memory snapshots by default and generates two additional volumes per virtual machine. The first volume is the sum of the memory, video memory, and 200 MB of buffer. The second volume contains the virtual machine configuration, which is several MB in size. When using block storage, rounding up occurs to the nearest unit {virt-product-fullname} can provide.</p>
</li>
<li>
<p>Creating an offline snapshot initially consumes 1 GB of block storage and is dynamic up to the size of the disk.</p>
</li>
<li>
<p>Cloning a snapshot creates a new disk the same size as the original disk.</p>
</li>
<li>
<p>Committing a snapshot removes all child volumes, depending on where in the chain the commit occurs.</p>
</li>
<li>
<p>Deleting a snapshot eventually removes the child volume for each disk and is only supported with a running virtual machine.</p>
</li>
<li>
<p>Previewing a snapshot creates a temporary volume per disk, so sufficient capacity must be available to allow the creation of the preview.</p>
</li>
<li>
<p>Undoing a snapshot preview removes the temporary volume created by the preview.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Attach and remove direct LUNs</dt>
<dd>
<p>Attaching and removing direct LUNs does not affect the storage domain since they are not a storage domain component. For more information, see <a href="{URL_virt_product_docs}{URL_format}administration_guide/index#Overview_of_Live_Storage_Migration">Overview of Live Storage Migration</a> in the <em>Administration Guide</em>.</p>
</dd>
</dl>
</div>



        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/2800/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/2800/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/2800/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/2800/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=documentation&amp;title=Issue:%20/documentation/doc-Technical_Reference/topics/The_Effect_of_Storage_Domain_Actions_on_Storage_Capacity.html&amp;template=issue_template_documentation.md' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/master/source/documentation/doc-Technical_Reference/topics/The_Effect_of_Storage_Domain_Actions_on_Storage_Capacity.adoc' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
